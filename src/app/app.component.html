<!-- Header -->

<mat-toolbar class="bg-slate-300">
  <div class="flex">
    <button mat-icon-button>
      <mat-icon
        (click)="this.sideNav.open()"
        *ngIf="!sideNav.opened"
        class="mat-18 text-emerald-900"
        >menu</mat-icon
      >
      <mat-icon
        (click)="this.sideNav.close()"
        *ngIf="sideNav.opened"
        class="mat-18 text-red-500"
        >close</mat-icon
      >
    </button>

    <span class="text-slate-900 mb-1 ml-2">Open News</span>
  </div>
</mat-toolbar>

<!-- Side Nav -->
<mat-sidenav-container>
  <mat-sidenav #sideNav="matSidenav" class="bg-slate-300 text-slate-800">
    <img
      src="https://images.unsplash.com/photo-1671099484139-b4674a9bf986?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"
      alt=""
      class="avatar mat-elavation-z8"
    />

    <h4>The News that matters.</h4>
    <mat-divider> </mat-divider>
    <ng-container *ngFor="let source of sources">
      <button (click)="searchSource(source)" mat-button class="menu-button py-2" [ngClass]="{'bg-slate-200':selectedNewsChannel === source.name}">
        <mat-icon>event_note</mat-icon>
        <span>{{ source.name }}</span>
      </button>
    </ng-container>

    <mat-divider></mat-divider>
    <button mat-button class="menu-button">
      <mat-icon>settings</mat-icon>
      <span>Settings</span>
    </button>
  </mat-sidenav>

  <mat-sidenav-content class="content mat-elevation-z4">
    <section class="text-gray-600 bg-slate-200 body-font">
      <div class="container px-5 mx-auto max-w-7x1">
        <div class="flex flex-wrap w-full mb-4 p-4">
          <div class="w-full mb-6 lg:mb-0">
            <h1
              class="sm:text-4xl text-5xl font-medium title-font mb-2 text-gray-900"
            >
              {{ selectedNewsChannel }}
            </h1>
            <div class="h-1 w-60 bg-indigo-500 rounded"></div>
          </div>
        </div>
        <div class="flex flex-wrap -m-4">
          <ng-container *ngFor="let article of articles">
            <div class="xl:w-1/3 md:w-1/2 p-4">
              <div class="bg-slate-100 p-6 rounded-lg">
                <img
                  class="lg:h-60 xl:h-56 md:h-64 sm:h-72 xs:h-72 h-72 rounded w-full object-cover object-center mb-6"
                  [src]="article.urlToImage"
                  alt="Image Size 720x400"
                />
                <div class="flex justify-between">
                  <h3
                    class="tracking-widest text-indigo-500 text-xs font-medium title-font"
                  >
                    Author: {{ article.author }}
                  </h3>
                  <h4
                    style="text-overflow: ellipsis; display: -webkit-box"
                    class="tracking-widest text-gray-800 text-sm"
                  >
                    {{ article.publishedAt | date:'medium'}}
                  </h4>
                </div>
                <h2
                  class="text-lg text-gray-900 font-medium title-font mb-4 overflow-hidden"
                >
                  {{ article.title }}
                </h2>
                <p
                  class="leading-relaxed text-base"
                  [innerHtml]="article.description"
                ></p>
                <span
                  ><a
                    class="text-blue-500"
                    href="{{ article.url }}"
                    target="_blank"
                    >read more....</a
                  ></span
                >
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </section>
  </mat-sidenav-content>
</mat-sidenav-container>
